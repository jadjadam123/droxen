(self["webpackChunkwidget"]=self["webpackChunkwidget"]||[]).push([[2635],{13056:function(t,e,n){"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function o(){const t=r();return t.subtle||t.webkitSubtle}function i(){return!!r()&&!!o()}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=r,e.getSubtleCrypto=o,e.isBrowserCryptoAvailable=i},95461:function(t,e){"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}function o(){return!n()&&!r()}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=n,e.isNode=r,e.isBrowser=o},33452:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(39553);r.__exportStar(n(13056),e),r.__exportStar(n(95461),e)},47486:function(t,e,n){"use strict";n.d(e,{Gn:function(){return A}});var r=n(42282);n(70560),n(98858),n(61318),n(33228),n(88739),n(56822),n(2212),n(94312),n(52192),n(46343),n(62302),n(80060),n(27904),n(66583),n(12119);function o(t,e=[]){const n=[];return Object.keys(t).forEach((r=>{if(e.length&&!e.includes(r))return;const o=t[r];n.push(...o.accounts)})),n}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const i={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function s(t,e){const{message:n,code:r}=i[t];return{message:e?`${n} ${e}`:n,code:r}}function a(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}var c=n(17116);const u="wc",l="ethereum_provider",h=`${u}@2:${l}:`,f="https://rpc.walletconnect.com/v1/",d=["eth_sendTransaction","personal_sign"],p=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],g=["chainChanged","accountsChanged"],y=["chainChanged","accountsChanged","message","disconnect","connect"];var m=Object.defineProperty,v=Object.defineProperties,w=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,I=(t,e,n)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||(e={}))E.call(e,n)&&I(t,n,e[n]);if(b)for(var n of b(e))_.call(e,n)&&I(t,n,e[n]);return t},S=(t,e)=>v(t,w(e));function R(t){return Number(t[0].split(":")[1])}function C(t){return`0x${t.toString(16)}`}function T(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:o,events:i,optionalEvents:s,rpcMap:c}=t;if(!a(e))throw new Error("Invalid chains");const u={chains:e,methods:r||d,events:i||g,rpcMap:O({},e.length?{[R(e)]:c[R(e)]}:{})},l=i?.filter((t=>!g.includes(t))),h=r?.filter((t=>!d.includes(t)));if(!n&&!s&&!o&&(null==l||!l.length)&&(null==h||!h.length))return{required:e.length?u:void 0};const f=l?.length&&h?.length||!n,m={chains:[...new Set(f?u.chains.concat(n||[]):n)],methods:[...new Set(u.methods.concat(null!=o&&o.length?o:p))],events:[...new Set(u.events.concat(null!=s&&s.length?s:y))],rpcMap:c};return{required:e.length?u:void 0,optional:n.length?m:void 0}}class x{constructor(){this.events=new r.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=h,this.on=(t,e)=>(this.events.on(t,e),this),this.once=(t,e)=>(this.events.once(t,e),this),this.removeListener=(t,e)=>(this.events.removeListener(t,e),this),this.off=(t,e)=>(this.events.off(t,e),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const e=new x;return await e.initialize(t),e}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,e){this.signer.sendAsync(t,e,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:e,optional:n}=T(this.rpc);try{const r=await new Promise((async(r,o)=>{var i;this.rpc.showQrModal&&(null==(i=this.modal)||i.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(S(O({namespaces:O({},e&&{[this.namespace]:e})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:t?.pairingTopic})).then((t=>{r(t)})).catch((t=>{o(new Error(t.message))}))}));if(!r)return;const i=o(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:C(this.chainId)})}catch(r){throw this.signer.logger.error(r),r}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:e}=t,{event:n}=e;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const e=parseInt(t);this.chainId=e,this.events.emit("chainChanged",C(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",S(O({},s("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var e,n;this.rpc.showQrModal&&(null==(e=this.modal)||e.closeModal(),null==(n=this.modal)||n.openModal({uri:t})),this.events.emit("display_uri",t)}))}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const e=t.filter((t=>this.isCompatibleChainId(t))).map((t=>this.parseChainId(t)));e.length&&(this.chainId=e[0],this.events.emit("chainChanged",C(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const e=this.parseChainId(t);this.chainId=e,this.switchEthereumChain(e)}}parseAccountId(t){const[e,n,r]=t.split(":");return{chainId:`${e}:${n}`,address:r}}setAccounts(t){this.accounts=t.filter((t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId)).map((t=>this.parseAccountId(t).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var e,n;const r=null!=(e=t?.chains)?e:[],o=null!=(n=t?.optionalChains)?n:[],i=r.concat(o);if(!i.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const s=r.length?t?.methods||d:[],a=r.length?t?.events||g:[],c=t?.optionalMethods||[],u=t?.optionalEvents||[],l=t?.rpcMap||this.buildRpcMap(i,t.projectId),h=t?.qrModalOptions||void 0;return{chains:r?.map((t=>this.formatChainId(t))),optionalChains:o.map((t=>this.formatChainId(t))),methods:s,events:a,optionalMethods:c,optionalEvents:u,rpcMap:l,showQrModal:!(null==t||!t.showQrModal),qrModalOptions:h,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,e){const n={};return t.forEach((t=>{n[t]=this.getRpcUrl(t,e)})),n}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?R(this.rpc.chains):R(this.rpc.optionalChains),this.signer=await c.k.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:e}=await n.e(7979).then(n.bind(n,57979));t=e}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(O({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:e,optionalChains:n,rpcMap:r}=t;e&&a(e)&&(this.rpc.chains=e.map((t=>this.formatChainId(t))),e.forEach((t=>{this.rpc.rpcMap[t]=r?.[t]||this.getRpcUrl(t)}))),n&&a(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map((t=>this.formatChainId(t))),n.forEach((t=>{this.rpc.rpcMap[t]=r?.[t]||this.getRpcUrl(t)})))}getRpcUrl(t,e){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[t])||`${f}?chainId=eip155:${t}&projectId=${e||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),e=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:e?.accounts),this.setAccounts(e?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((t=>this.parseAccount(t)))}}const A=x},80060:function(t,e){"use strict";function n(t){let e;return"undefined"!==typeof window&&"undefined"!==typeof window[t]&&(e=window[t]),e}function r(t){const e=n(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}function o(){return r("document")}function i(){return n("document")}function s(){return r("navigator")}function a(){return n("navigator")}function c(){return r("location")}function u(){return n("location")}function l(){return r("crypto")}function h(){return n("crypto")}function f(){return r("localStorage")}function d(){return n("localStorage")}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=n,e.getFromWindowOrThrow=r,e.getDocumentOrThrow=o,e.getDocument=i,e.getNavigatorOrThrow=s,e.getNavigator=a,e.getLocationOrThrow=c,e.getLocation=u,e.getCryptoOrThrow=l,e.getCrypto=h,e.getLocalStorageOrThrow=f,e.getLocalStorage=d},27904:function(t,e,n){"use strict";n(70560);const r=n(80060);function o(){let t,e;try{t=r.getDocumentOrThrow(),e=r.getLocationOrThrow()}catch(f){return null}function n(){const n=t.getElementsByTagName("link"),r=[];for(let t=0;t<n.length;t++){const o=n[t],i=o.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const t=o.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let n=e.protocol+"//"+e.host;if(0===t.indexOf("/"))n+=t;else{const r=e.pathname.split("/");r.pop();const o=r.join("/");n+=o+"/"+t}r.push(n)}else if(0===t.indexOf("//")){const n=e.protocol+t;r.push(n)}else r.push(t)}}return r}function o(...e){const n=t.getElementsByTagName("meta");for(let t=0;t<n.length;t++){const r=n[t],o=["itemprop","property","name"].map((t=>r.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(o.length&&o){const t=r.getAttribute("content");if(t)return t}}return""}function i(){let e=o("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}function s(){const t=o("description","og:description","twitter:description","keywords");return t}const a=i(),c=s(),u=e.origin,l=n(),h={description:c,url:u,icons:l,name:a};return h}},66583:function(t,e,n){"use strict";const r=n(66929),o=n(11471),i=n(23530),s=n(65884),a=t=>null===t||void 0===t,c=Symbol("encodeFragmentIdentifier");function u(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[f(e,t),"[",o,"]"].join("")]:[...n,[f(e,t),"[",f(o,t),"]=",f(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[f(e,t),"[]"].join("")]:[...n,[f(e,t),"[]=",f(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[f(e,t),":list="].join("")]:[...n,[f(e,t),":list=",f(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[f(n,t),e,f(o,t)].join("")]:[[r,f(o,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,f(e,t)]:[...n,[f(e,t),"=",f(r,t)].join("")]}}function l(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"colon-list-separator":return(t,n,r)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const o="string"===typeof n&&n.includes(t.arrayFormatSeparator),i="string"===typeof n&&!o&&d(n,t).includes(t.arrayFormatSeparator);n=i?d(n,t):n;const s=o||i?n.split(t.arrayFormatSeparator).map((e=>d(e,t))):null===n?n:d(n,t);r[e]=s};case"bracket-separator":return(e,n,r)=>{const o=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!o)return void(r[e]=n?d(n,t):n);const i=null===n?[]:n.split(t.arrayFormatSeparator).map((e=>d(e,t)));void 0!==r[e]?r[e]=[].concat(r[e],i):r[e]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}function h(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function f(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function d(t,e){return e.decode?o(t):t}function p(t){return Array.isArray(t)?t.sort():"object"===typeof t?p(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function g(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function y(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}function m(t){t=g(t);const e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function v(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function w(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),h(e.arrayFormatSeparator);const n=l(e),r=Object.create(null);if("string"!==typeof t)return r;if(t=t.trim().replace(/^[?#&]/,""),!t)return r;for(const o of t.split("&")){if(""===o)continue;let[t,s]=i(e.decode?o.replace(/\+/g," "):o,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?s:d(s,e),n(d(t,e),s,r)}for(const o of Object.keys(r)){const t=r[o];if("object"===typeof t&&null!==t)for(const n of Object.keys(t))t[n]=v(t[n],e);else r[o]=v(t,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const n=r[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=p(n):t[e]=n,t}),Object.create(null))}e.extract=m,e.parse=w,e.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),h(e.arrayFormatSeparator);const n=n=>e.skipNull&&a(t[n])||e.skipEmptyString&&""===t[n],r=u(e),o={};for(const s of Object.keys(t))n(s)||(o[s]=t[s]);const i=Object.keys(o);return!1!==e.sort&&i.sort(e.sort),i.map((n=>{const o=t[n];return void 0===o?"":null===o?f(n,e):Array.isArray(o)?0===o.length&&"bracket-separator"===e.arrayFormat?f(n,e)+"[]":o.reduce(r(n),[]).join("&"):f(n,e)+"="+f(o,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[n,r]=i(t,"#");return Object.assign({url:n.split("?")[0]||"",query:w(m(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:d(r,e)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0,[c]:!0},n);const r=g(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),s=Object.assign(i,t.query);let a=e.stringify(s,n);a&&(a=`?${a}`);let u=y(t.url);return t.fragmentIdentifier&&(u=`#${n[c]?f(t.fragmentIdentifier,n):t.fragmentIdentifier}`),`${r}${a}${u}`},e.pick=(t,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[c]:!1},r);const{url:o,query:i,fragmentIdentifier:a}=e.parseUrl(t,r);return e.stringifyUrl({url:o,query:s(i,n),fragmentIdentifier:a},r)},e.exclude=(t,n,r)=>{const o=Array.isArray(n)?t=>!n.includes(t):(t,e)=>!n(t,e);return e.pick(t,o,r)}},13522:function(t,e,n){"use strict";n.d(e,{q:function(){return r}});class r{}},85065:function(t,e,n){"use strict";n.r(e),n.d(e,{IEvents:function(){return r.q}});var r=n(13522)},21145:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HEARTBEAT_EVENTS=e.HEARTBEAT_INTERVAL=void 0;const r=n(62302);e.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,e.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},82944:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(39553);r.__exportStar(n(21145),e)},61870:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeat=void 0;const r=n(39553),o=n(42282),i=n(62302),s=n(74949),a=n(82944);class c extends s.IHeartBeat{constructor(t){super(t),this.events=new o.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null===t||void 0===t?void 0:t.interval)||a.HEARTBEAT_INTERVAL}static init(t){return r.__awaiter(this,void 0,void 0,(function*(){const e=new c(t);return yield e.init(),e}))}init(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.initialize()}))}stop(){clearInterval(this.intervalRef)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}initialize(){return r.__awaiter(this,void 0,void 0,(function*(){this.intervalRef=setInterval((()=>this.pulse()),i.toMiliseconds(this.interval))}))}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}e.HeartBeat=c},79933:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(39553);r.__exportStar(n(61870),e),r.__exportStar(n(74949),e),r.__exportStar(n(82944),e)},59317:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IHeartBeat=void 0;const r=n(85065);class o extends r.IEvents{constructor(t){super()}}e.IHeartBeat=o},74949:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(39553);r.__exportStar(n(59317),e)},42895:function(t,e,n){"use strict";n.d(e,{k:function(){return g},Z:function(){return m}});var r=n(42282),o=n(23110),i=n.n(o);const s=t=>JSON.stringify(t,((t,e)=>"bigint"===typeof e?e.toString()+"n":e)),a=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,((t,e)=>{const n="string"===typeof e&&e.match(/^\d+n$/);return n?BigInt(e.substring(0,e.length-1)):e}))};function c(t){if("string"!==typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return a(t)}catch(e){return t}}function u(t){return"string"===typeof t?t:s(t)||""}var l=n(21868);const h={Accept:"application/json","Content-Type":"application/json"},f="POST",d={headers:h,method:f},p=10;class g{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,l.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t,e){this.isAvailable||await this.register();try{const e=u(t),n=await i()(this.url,Object.assign(Object.assign({},d),{body:e})),r=await n.json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!(0,l.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),"undefined"===typeof this.isAvailable)return e(new Error("HTTP connection is missing or invalid"));t()}))}))}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=u({id:1,jsonrpc:"2.0",method:"test",params:[]});await i()(t,Object.assign(Object.assign({},d),{body:e}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if("undefined"===typeof t.data)return;const e="string"===typeof t.data?c(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const n=this.parseError(e),r=n.message||n.toString(),o=(0,l.formatJsonRpcError)(t,r);this.events.emit("payload",o)}parseError(t,e=this.url){return(0,l.parseConnectionError)(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>p&&this.events.setMaxListeners(p)}}var y=g,m=y},89250:function(t,e,n){"use strict";n.d(e,{r:function(){return i}});var r=n(42282),o=n(21868);class i extends o.IJsonRpcProvider{constructor(t){super(t),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict((0,o.formatJsonRpcRequest)(t.method,t.params||[],t.id||(0,o.getBigIntRpcId)().toString()),e)}async requestStrict(t,e){return new Promise((async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(i){r(i)}this.events.on(`${t.id}`,(t=>{(0,o.isJsonRpcError)(t)?r(t.error):n(t.result)}));try{await this.connection.send(t,e)}catch(i){r(i)}}))}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),(0,o.isJsonRpcResponse)(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"===typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(t=>this.onPayload(t))),this.connection.on("close",(t=>this.onClose(t))),this.connection.on("error",(t=>this.events.emit("error",t))),this.connection.on("register_error",(t=>this.onClose())),this.hasRegisteredEventListeners=!0)}}},56300:function(t,e,n){"use strict";n.d(e,{CA:function(){return c},JV:function(){return h},O4:function(){return a},dQ:function(){return u},xK:function(){return l}});const r="PARSE_ERROR",o="INVALID_REQUEST",i="METHOD_NOT_FOUND",s="INVALID_PARAMS",a="INTERNAL_ERROR",c="SERVER_ERROR",u=[-32700,-32600,-32601,-32602,-32603],l={[r]:{code:-32700,message:"Parse error"},[o]:{code:-32600,message:"Invalid Request"},[i]:{code:-32601,message:"Method not found"},[s]:{code:-32602,message:"Invalid params"},[a]:{code:-32603,message:"Internal error"},[c]:{code:-32e3,message:"Server error"}},h=c},53075:function(t,e,n){"use strict";var r=n(33452);n.o(r,"IJsonRpcProvider")&&n.d(e,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(e,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(e,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(e,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(e,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(e,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(e,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(e,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(e,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(e,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(e,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(e,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(e,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(e,{payloadId:function(){return r.payloadId}})},15605:function(t,e,n){"use strict";n.d(e,{CX:function(){return a},L2:function(){return s},by:function(){return i},i5:function(){return o}});var r=n(56300);function o(t){return r.dQ.includes(t)}function i(t){return Object.keys(r.xK).includes(t)?r.xK[t]:r.xK[r.JV]}function s(t){const e=Object.values(r.xK).find((e=>e.code===t));return e||r.xK[r.JV]}function a(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}},66918:function(t,e,n){"use strict";n.d(e,{CS:function(){return s},RI:function(){return u},o0:function(){return i},sT:function(){return a},tm:function(){return c}});var r=n(15605),o=n(56300);function i(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function s(t=6){return BigInt(i(t))}function a(t,e,n){return{id:n||i(),jsonrpc:"2.0",method:t,params:e}}function c(t,e){return{id:t,jsonrpc:"2.0",result:e}}function u(t,e,n){return{id:t,jsonrpc:"2.0",error:l(e,n)}}function l(t,e){return"undefined"===typeof t?(0,r.by)(o.O4):("string"===typeof t&&(t=Object.assign(Object.assign({},(0,r.by)(o.CA)),{message:t})),"undefined"!==typeof e&&(t.data=e),(0,r.i5)(t.code)&&(t=(0,r.L2)(t.code)),t)}},21868:function(t,e,n){"use strict";n.d(e,{IJsonRpcProvider:function(){return s.x0},formatJsonRpcError:function(){return i.RI},formatJsonRpcRequest:function(){return i.sT},formatJsonRpcResult:function(){return i.tm},getBigIntRpcId:function(){return i.CS},isHttpUrl:function(){return a.jK},isJsonRpcError:function(){return c.jg},isJsonRpcRequest:function(){return c.DW},isJsonRpcResponse:function(){return c.u},isJsonRpcResult:function(){return c.k4},isLocalhostUrl:function(){return a.JF},isWsUrl:function(){return a.UZ},parseConnectionError:function(){return r.CX},payloadId:function(){return i.o0}});n(56300);var r=n(15605),o=n(53075);n.o(o,"IJsonRpcProvider")&&n.d(e,{IJsonRpcProvider:function(){return o.IJsonRpcProvider}}),n.o(o,"formatJsonRpcError")&&n.d(e,{formatJsonRpcError:function(){return o.formatJsonRpcError}}),n.o(o,"formatJsonRpcRequest")&&n.d(e,{formatJsonRpcRequest:function(){return o.formatJsonRpcRequest}}),n.o(o,"formatJsonRpcResult")&&n.d(e,{formatJsonRpcResult:function(){return o.formatJsonRpcResult}}),n.o(o,"getBigIntRpcId")&&n.d(e,{getBigIntRpcId:function(){return o.getBigIntRpcId}}),n.o(o,"isHttpUrl")&&n.d(e,{isHttpUrl:function(){return o.isHttpUrl}}),n.o(o,"isJsonRpcError")&&n.d(e,{isJsonRpcError:function(){return o.isJsonRpcError}}),n.o(o,"isJsonRpcRequest")&&n.d(e,{isJsonRpcRequest:function(){return o.isJsonRpcRequest}}),n.o(o,"isJsonRpcResponse")&&n.d(e,{isJsonRpcResponse:function(){return o.isJsonRpcResponse}}),n.o(o,"isJsonRpcResult")&&n.d(e,{isJsonRpcResult:function(){return o.isJsonRpcResult}}),n.o(o,"isLocalhostUrl")&&n.d(e,{isLocalhostUrl:function(){return o.isLocalhostUrl}}),n.o(o,"isReactNative")&&n.d(e,{isReactNative:function(){return o.isReactNative}}),n.o(o,"isWsUrl")&&n.d(e,{isWsUrl:function(){return o.isWsUrl}}),n.o(o,"payloadId")&&n.d(e,{payloadId:function(){return o.payloadId}});var i=n(66918),s=n(15212),a=n(44692),c=n(26398)},15212:function(t,e,n){"use strict";n.d(e,{x0:function(){return i}});class r{}class o extends r{constructor(){super()}}class i extends o{constructor(t){super()}}},44692:function(t,e,n){"use strict";n.d(e,{JF:function(){return u},UZ:function(){return c},jK:function(){return a}});const r="^https?:",o="^wss?:";function i(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}function s(t,e){const n=i(t);return"undefined"!==typeof n&&new RegExp(e).test(n)}function a(t){return s(t,r)}function c(t){return s(t,o)}function u(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}},26398:function(t,e,n){"use strict";function r(t){return"object"===typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function o(t){return r(t)&&"method"in t}function i(t){return r(t)&&(s(t)||a(t))}function s(t){return"result"in t}function a(t){return"error"in t}n.d(e,{DW:function(){return o},jg:function(){return a},k4:function(){return s},u:function(){return i}})},878:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});n(98858),n(61318),n(33228);var r=n(42282);const o=t=>JSON.stringify(t,((t,e)=>"bigint"===typeof e?e.toString()+"n":e)),i=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,((t,e)=>{const n="string"===typeof e&&e.match(/^\d+n$/);return n?BigInt(e.substring(0,e.length-1)):e}))};function s(t){if("string"!==typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return i(t)}catch(e){return t}}function a(t){return"string"===typeof t?t:o(t)||""}var c=n(21868);const u=()=>typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(22540),l=()=>typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",h=t=>t.split("?")[0],f=10,d=u();class p{constructor(t){if(this.url=t,this.events=new r.EventEmitter,this.registering=!1,!(0,c.isWsUrl)(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){return new Promise(((t,e)=>{typeof this.socket>"u"?e(new Error("Connection already closed")):(this.socket.onclose=e=>{this.onClose(e),t()},this.socket.close())}))}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(a(t))}catch(e){this.onError(t.id,e)}}register(t=this.url){if(!(0,c.isWsUrl)(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return e(new Error("WebSocket connection is missing or invalid"));t(this.socket)}))}))}return this.url=t,this.registering=!0,new Promise(((e,n)=>{const r=new URLSearchParams(t).get("origin"),o=(0,c.isReactNative)()?{headers:{origin:r}}:{rejectUnauthorized:!(0,c.isLocalhostUrl)(t)},i=new d(t,[],o);l()?i.onerror=t=>{const e=t;n(this.emitError(e.error))}:i.on("error",(t=>{n(this.emitError(t))})),i.onopen=()=>{this.onOpen(i),e(i)}}))}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?s(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const n=this.parseError(e),r=n.message||n.toString(),o=(0,c.formatJsonRpcError)(t,r);this.events.emit("payload",o)}parseError(t,e=this.url){return(0,c.parseConnectionError)(t,h(e),"WS")}resetMaxListeners(){this.events.getMaxListeners()>f&&this.events.setMaxListeners(f)}emitError(t){const e=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${h(this.url)}`));return this.events.emit("register_error",e),e}}},56889:function(t,e,n){"use strict";n.d(e,{Z:function(){return J}});n(70560);var r=n(35144),o=n(93299)["Buffer"];function i(t){return t&&"function"===typeof t.then?t:Promise.resolve(t)}function s(t,...e){try{return i(t(...e))}catch(n){return Promise.reject(n)}}function a(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}function c(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function u(t){if(a(t))return String(t);if(c(t)||Array.isArray(t))return JSON.stringify(t);if("function"===typeof t.toJSON)return u(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function l(){if(void 0===typeof o)throw new TypeError("[unstorage] Buffer is not supported!")}const h="base64:";function f(t){if("string"===typeof t)return t;l();const e=o.from(t).toString("base64");return h+e}function d(t){return"string"!==typeof t?t:t.startsWith(h)?(l(),o.from(t.slice(h.length),"base64")):t}function p(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function g(...t){return p(t.join(":"))}function y(t){return t=p(t),t?t+":":""}function m(t){return t}const v="memory",w=m((()=>{const t=new Map;return{name:v,options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}}));function b(t={}){const e={mounts:{"":t.driver||w()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},o=(t,n)=>e.mountpoints.filter((e=>e.startsWith(t)||n&&t.startsWith(e))).map((n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]}))),i=(t,n)=>{if(e.watching){n=p(n);for(const r of e.watchListeners)r(t,n)}},a=async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await E(e.mounts[t],i,t)}},c=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},l=(t,e,r)=>{const o=new Map,i=t=>{let e=o.get(t.base);return e||(e={driver:t.driver,base:t.base,items:[]},o.set(t.base,e)),e};for(const s of t){const t="string"===typeof s,r=p(t?s:s.key),o=t?void 0:s.value,a=t||!s.options?e:{...e,...s.options},c=n(r);i(c).items.push({key:r,value:o,relativeKey:c.relativeKey,options:a})}return Promise.all([...o.values()].map((t=>r(t)))).then((t=>t.flat()))},h={hasItem(t,e={}){t=p(t);const{relativeKey:r,driver:o}=n(t);return s(o.hasItem,r,e)},getItem(t,e={}){t=p(t);const{relativeKey:o,driver:i}=n(t);return s(i.getItem,o,e).then((t=>(0,r.ZP)(t)))},getItems(t,e){return l(t,e,(t=>t.driver.getItems?s(t.driver.getItems,t.items.map((t=>({key:t.relativeKey,options:t.options}))),e).then((e=>e.map((e=>({key:g(t.base,e.key),value:(0,r.ZP)(e.value)}))))):Promise.all(t.items.map((e=>s(t.driver.getItem,e.relativeKey,e.options).then((t=>({key:e.key,value:(0,r.ZP)(t)}))))))))},getItemRaw(t,e={}){t=p(t);const{relativeKey:r,driver:o}=n(t);return o.getItemRaw?s(o.getItemRaw,r,e):s(o.getItem,r,e).then((t=>d(t)))},async setItem(t,e,r={}){if(void 0===e)return h.removeItem(t);t=p(t);const{relativeKey:o,driver:a}=n(t);a.setItem&&(await s(a.setItem,o,u(e),r),a.watch||i("update",t))},async setItems(t,e){await l(t,e,(async t=>{t.driver.setItems&&await s(t.driver.setItems,t.items.map((t=>({key:t.relativeKey,value:u(t.value),options:t.options}))),e),t.driver.setItem&&await Promise.all(t.items.map((e=>s(t.driver.setItem,e.relativeKey,u(e.value),e.options))))}))},async setItemRaw(t,e,r={}){if(void 0===e)return h.removeItem(t,r);t=p(t);const{relativeKey:o,driver:a}=n(t);if(a.setItemRaw)await s(a.setItemRaw,o,e,r);else{if(!a.setItem)return;await s(a.setItem,o,f(e),r)}a.watch||i("update",t)},async removeItem(t,e={}){"boolean"===typeof e&&(e={removeMeta:e}),t=p(t);const{relativeKey:r,driver:o}=n(t);o.removeItem&&(await s(o.removeItem,r,e),(e.removeMeta||e.removeMata)&&await s(o.removeItem,r+"$",e),o.watch||i("remove",t))},async getMeta(t,e={}){"boolean"===typeof e&&(e={nativeOnly:e}),t=p(t);const{relativeKey:o,driver:i}=n(t),a=Object.create(null);if(i.getMeta&&Object.assign(a,await s(i.getMeta,o,e)),!e.nativeOnly){const t=await s(i.getItem,o+"$",e).then((t=>(0,r.ZP)(t)));t&&"object"===typeof t&&("string"===typeof t.atime&&(t.atime=new Date(t.atime)),"string"===typeof t.mtime&&(t.mtime=new Date(t.mtime)),Object.assign(a,t))}return a},setMeta(t,e,n={}){return this.setItem(t+"$",e,n)},removeMeta(t,e={}){return this.removeItem(t+"$",e)},async getKeys(t,e={}){t=y(t);const n=o(t,!0);let r=[];const i=[];for(const o of n){const t=await s(o.driver.getKeys,o.relativeBase,e),n=t.map((t=>o.mountpoint+p(t))).filter((t=>!r.some((e=>t.startsWith(e)))));i.push(...n),r=[o.mountpoint,...r.filter((t=>!t.startsWith(o.mountpoint)))]}return t?i.filter((e=>e.startsWith(t)&&!e.endsWith("$"))):i.filter((t=>!t.endsWith("$")))},async clear(t,e={}){t=y(t),await Promise.all(o(t,!1).map((async t=>{if(t.driver.clear)return s(t.driver.clear,t.relativeBase,e);if(t.driver.removeItem){const n=await t.driver.getKeys(t.relativeBase||"",e);return Promise.all(n.map((n=>t.driver.removeItem(n,e))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((t=>_(t))))},async watch(t){return await a(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(t,n){if(t=y(t),t&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort(((t,e)=>e.length-t.length))),e.mounts[t]=n,e.watching&&Promise.resolve(E(n,i,t)).then((n=>{e.unwatch[t]=n})).catch(console.error),h},async unmount(t,n=!0){t=y(t),t&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t](),delete e.unwatch[t]),n&&await _(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t])},getMount(t=""){t=p(t)+":";const e=n(t);return{driver:e.driver,base:e.base}},getMounts(t="",e={}){t=p(t);const n=o(t,e.parents);return n.map((t=>({driver:t.driver,base:t.mountpoint})))}};return h}function E(t,e,n){return t.watch?t.watch(((t,r)=>e(t,n+r))):()=>{}}async function _(t){"function"===typeof t.dispose&&await s(t.dispose)}var I=n(45224);const O=t=>JSON.stringify(t,((t,e)=>"bigint"===typeof e?e.toString()+"n":e)),S=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,((t,e)=>{const n="string"===typeof e&&e.match(/^\d+n$/);return n?BigInt(e.substring(0,e.length-1)):e}))};function R(t){if("string"!==typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return S(t)}catch(e){return t}}function C(t){return"string"===typeof t?t:O(t)||""}const T="idb-keyval";var x=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=t=>e+t;let r;return t.dbName&&t.storeName&&(r=(0,I.MT)(t.dbName,t.storeName)),{name:T,options:t,async hasItem(t){return!(typeof await(0,I.U2)(n(t),r)>"u")},async getItem(t){return await(0,I.U2)(n(t),r)??null},setItem(t,e){return(0,I.t8)(n(t),e,r)},removeItem(t){return(0,I.IV)(n(t),r)},getKeys(){return(0,I.XP)(r)},clear(){return(0,I.ZH)(r)}}};const A="WALLET_CONNECT_V2_INDEXED_DB",P="keyvaluestorage";class U{constructor(){this.indexedDb=b({driver:x({dbName:A,storeName:P})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t=>[t.key,t.value]))}async getItem(t){const e=await this.indexedDb.getItem(t);if(null!==e)return e}async setItem(t,e){await this.indexedDb.setItem(t,C(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},j={exports:{}};function B(t){var e;return[t[0],R(null!=(e=t[1])?e:"")]}(function(){let t;function e(){}t=e,t.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.setItem=function(t,e){this[t]=String(e)},t.prototype.removeItem=function(t){delete this[t]},t.prototype.clear=function(){const t=this;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]}))},t.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},t.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof k<"u"&&k.localStorage?j.exports=k.localStorage:typeof window<"u"&&window.localStorage?j.exports=window.localStorage:j.exports=new e})();class N{constructor(){this.localStorage=j.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(B)}async getItem(t){const e=this.localStorage.getItem(t);if(null!==e)return R(e)}async setItem(t,e){this.localStorage.setItem(t,C(e))}async removeItem(t){this.localStorage.removeItem(t)}}const L="wc_storage_version",M=1,$=async(t,e,n)=>{const r=L,o=await e.getItem(r);if(o&&o>=M)return void n(e);const i=await t.getKeys();if(!i.length)return void n(e);const s=[];for(;i.length;){const n=i.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await t.getItem(n);await e.setItem(n,r),s.push(n)}}await e.setItem(r,M),n(e),D(t,s)},D=async(t,e)=>{e.length&&e.forEach((async e=>{await t.removeItem(e)}))};class J{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const t=new N;this.storage=t;try{const e=new U;$(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise((t=>{const e=setInterval((()=>{this.initialized&&(clearInterval(e),t())}),20)}))}}},84897:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PINO_CUSTOM_CONTEXT_KEY=e.PINO_LOGGER_DEFAULTS=void 0,e.PINO_LOGGER_DEFAULTS={level:"info"},e.PINO_CUSTOM_CONTEXT_KEY="custom_context"},51094:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const r=n(39553),o=r.__importDefault(n(22717));Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return o.default}}),r.__exportStar(n(84897),e),r.__exportStar(n(80509),e)},80509:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateChildLogger=e.formatChildLoggerContext=e.getLoggerContext=e.setBrowserLoggerContext=e.getBrowserLoggerContext=e.getDefaultLoggerOptions=void 0;const r=n(84897);function o(t){return Object.assign(Object.assign({},t),{level:(null===t||void 0===t?void 0:t.level)||r.PINO_LOGGER_DEFAULTS.level})}function i(t,e=r.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}function s(t,e,n=r.PINO_CUSTOM_CONTEXT_KEY){return t[n]=e,t}function a(t,e=r.PINO_CUSTOM_CONTEXT_KEY){let n="";return n="undefined"===typeof t.bindings?i(t,e):t.bindings().context||"",n}function c(t,e,n=r.PINO_CUSTOM_CONTEXT_KEY){const o=a(t,n),i=o.trim()?`${o}/${e}`:e;return i}function u(t,e,n=r.PINO_CUSTOM_CONTEXT_KEY){const o=c(t,e,n),i=t.child({context:o});return s(i,o,n)}e.getDefaultLoggerOptions=o,e.getBrowserLoggerContext=i,e.setBrowserLoggerContext=s,e.getLoggerContext=a,e.formatChildLoggerContext=c,e.generateChildLogger=u},12119:function(t,e,n){"use strict";n.d(e,{RELAY_JSONRPC:function(){return r}});n(59838);const r={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}},59838:function(){},7232:function(t,e,n){"use strict";n.d(e,{encodeIss:function(){return S},generateKeyPair:function(){return x},signJWT:function(){return A}});var r=n(35018),o=n(2212),i=n(62302);const s="EdDSA",a="JWT",c=".",u="base64url",l="utf8",h="utf8",f=":",d="did",p="key",g="base58btc",y="z",m="K36",v=32;var w=n(49290),b=n(78574),E=n(75022);const _=t=>JSON.stringify(t,((t,e)=>"bigint"===typeof e?e.toString()+"n":e));function I(t){return"string"===typeof t?t:_(t)||""}function O(t){return(0,b.B)((0,E.m)(I(t),l),u)}function S(t){const e=(0,E.m)(m,g),n=y+(0,b.B)((0,w.z)([e,t]),g);return[d,p,n].join(f)}function R(t){return(0,b.B)(t,u)}function C(t){return(0,E.m)([O(t.header),O(t.payload)].join(c),h)}function T(t){return[O(t.header),O(t.payload),R(t.signature)].join(c)}function x(t=(0,o.randomBytes)(v)){return r._w(t)}async function A(t,e,n,o,c=(0,i.fromMiliseconds)(Date.now())){const u={alg:s,typ:a},l=S(o.publicKey),h=c+n,f={iss:l,sub:t,aud:e,iat:c,exp:h},d=C({header:u,payload:f}),p=r.Xx(o.secretKey,d);return T({header:u,payload:f,signature:p})}n(71147)},71147:function(){},39553:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return i},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return E},__await:function(){return v},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return R},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return d},__extends:function(){return o},__generator:function(){return h},__importDefault:function(){return O},__importStar:function(){return I},__makeTemplateObject:function(){return _},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return s},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});n(70560);var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function s(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{c(o[t](e))}catch(n){h(i[0][3],n)}}function c(t){t.value instanceof v?Promise.resolve(t.value.v).then(u,l):h(i[0][2],t)}function u(t){a("next",t)}function l(t){a("throw",t)}function h(t,e){t(e),i.shift(),i.length&&a(i[0][0],i[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){e=t[n](e),o(r,i,e.done,e.value)}))}}function o(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},25109:function(t,e,n){n(24224),n(61121),n(37133),function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function g(t,e,n,r,o){var i,s=0;for(i=0;i<o;i++)s|=t[e+i]^n[r+i];return(1&s-1>>>8)-1}function y(t,e,n,r){return g(t,e,n,r,16)}function m(t,e,n,r){return g(t,e,n,r,32)}function v(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,E=i,_=s,I=a,O=c,S=u,R=l,C=h,T=f,x=d,A=p,P=g,U=y,k=m,j=v,B=w,N=b,L=0;L<20;L+=2)o=E+k|0,S^=o<<7|o>>>25,o=S+E|0,x^=o<<9|o>>>23,o=x+S|0,k^=o<<13|o>>>19,o=k+x|0,E^=o<<18|o>>>14,o=R+_|0,A^=o<<7|o>>>25,o=A+R|0,j^=o<<9|o>>>23,o=j+A|0,_^=o<<13|o>>>19,o=_+j|0,R^=o<<18|o>>>14,o=P+C|0,B^=o<<7|o>>>25,o=B+P|0,I^=o<<9|o>>>23,o=I+B|0,C^=o<<13|o>>>19,o=C+I|0,P^=o<<18|o>>>14,o=N+U|0,O^=o<<7|o>>>25,o=O+N|0,T^=o<<9|o>>>23,o=T+O|0,U^=o<<13|o>>>19,o=U+T|0,N^=o<<18|o>>>14,o=E+O|0,_^=o<<7|o>>>25,o=_+E|0,I^=o<<9|o>>>23,o=I+_|0,O^=o<<13|o>>>19,o=O+I|0,E^=o<<18|o>>>14,o=R+S|0,C^=o<<7|o>>>25,o=C+R|0,T^=o<<9|o>>>23,o=T+C|0,S^=o<<13|o>>>19,o=S+T|0,R^=o<<18|o>>>14,o=P+A|0,U^=o<<7|o>>>25,o=U+P|0,x^=o<<9|o>>>23,o=x+U|0,A^=o<<13|o>>>19,o=A+x|0,P^=o<<18|o>>>14,o=N+B|0,k^=o<<7|o>>>25,o=k+N|0,j^=o<<9|o>>>23,o=j+k|0,B^=o<<13|o>>>19,o=B+j|0,N^=o<<18|o>>>14;E=E+i|0,_=_+s|0,I=I+a|0,O=O+c|0,S=S+u|0,R=R+l|0,C=C+h|0,T=T+f|0,x=x+d|0,A=A+p|0,P=P+g|0,U=U+y|0,k=k+m|0,j=j+v|0,B=B+w|0,N=N+b|0,t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=_>>>0&255,t[5]=_>>>8&255,t[6]=_>>>16&255,t[7]=_>>>24&255,t[8]=I>>>0&255,t[9]=I>>>8&255,t[10]=I>>>16&255,t[11]=I>>>24&255,t[12]=O>>>0&255,t[13]=O>>>8&255,t[14]=O>>>16&255,t[15]=O>>>24&255,t[16]=S>>>0&255,t[17]=S>>>8&255,t[18]=S>>>16&255,t[19]=S>>>24&255,t[20]=R>>>0&255,t[21]=R>>>8&255,t[22]=R>>>16&255,t[23]=R>>>24&255,t[24]=C>>>0&255,t[25]=C>>>8&255,t[26]=C>>>16&255,t[27]=C>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=x>>>0&255,t[33]=x>>>8&255,t[34]=x>>>16&255,t[35]=x>>>24&255,t[36]=A>>>0&255,t[37]=A>>>8&255,t[38]=A>>>16&255,t[39]=A>>>24&255,t[40]=P>>>0&255,t[41]=P>>>8&255,t[42]=P>>>16&255,t[43]=P>>>24&255,t[44]=U>>>0&255,t[45]=U>>>8&255,t[46]=U>>>16&255,t[47]=U>>>24&255,t[48]=k>>>0&255,t[49]=k>>>8&255,t[50]=k>>>16&255,t[51]=k>>>24&255,t[52]=j>>>0&255,t[53]=j>>>8&255,t[54]=j>>>16&255,t[55]=j>>>24&255,t[56]=B>>>0&255,t[57]=B>>>8&255,t[58]=B>>>16&255,t[59]=B>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}function w(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,m=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,E=i,_=s,I=a,O=c,S=u,R=l,C=h,T=f,x=d,A=p,P=g,U=y,k=m,j=v,B=w,N=b,L=0;L<20;L+=2)o=E+k|0,S^=o<<7|o>>>25,o=S+E|0,x^=o<<9|o>>>23,o=x+S|0,k^=o<<13|o>>>19,o=k+x|0,E^=o<<18|o>>>14,o=R+_|0,A^=o<<7|o>>>25,o=A+R|0,j^=o<<9|o>>>23,o=j+A|0,_^=o<<13|o>>>19,o=_+j|0,R^=o<<18|o>>>14,o=P+C|0,B^=o<<7|o>>>25,o=B+P|0,I^=o<<9|o>>>23,o=I+B|0,C^=o<<13|o>>>19,o=C+I|0,P^=o<<18|o>>>14,o=N+U|0,O^=o<<7|o>>>25,o=O+N|0,T^=o<<9|o>>>23,o=T+O|0,U^=o<<13|o>>>19,o=U+T|0,N^=o<<18|o>>>14,o=E+O|0,_^=o<<7|o>>>25,o=_+E|0,I^=o<<9|o>>>23,o=I+_|0,O^=o<<13|o>>>19,o=O+I|0,E^=o<<18|o>>>14,o=R+S|0,C^=o<<7|o>>>25,o=C+R|0,T^=o<<9|o>>>23,o=T+C|0,S^=o<<13|o>>>19,o=S+T|0,R^=o<<18|o>>>14,o=P+A|0,U^=o<<7|o>>>25,o=U+P|0,x^=o<<9|o>>>23,o=x+U|0,A^=o<<13|o>>>19,o=A+x|0,P^=o<<18|o>>>14,o=N+B|0,k^=o<<7|o>>>25,o=k+N|0,j^=o<<9|o>>>23,o=j+k|0,B^=o<<13|o>>>19,o=B+j|0,N^=o<<18|o>>>14;t[0]=E>>>0&255,t[1]=E>>>8&255,t[2]=E>>>16&255,t[3]=E>>>24&255,t[4]=R>>>0&255,t[5]=R>>>8&255,t[6]=R>>>16&255,t[7]=R>>>24&255,t[8]=P>>>0&255,t[9]=P>>>8&255,t[10]=P>>>16&255,t[11]=P>>>24&255,t[12]=N>>>0&255,t[13]=N>>>8&255,t[14]=N>>>16&255,t[15]=N>>>24&255,t[16]=C>>>0&255,t[17]=C>>>8&255,t[18]=C>>>16&255,t[19]=C>>>24&255,t[20]=T>>>0&255,t[21]=T>>>8&255,t[22]=T>>>16&255,t[23]=T>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=A>>>0&255,t[29]=A>>>8&255,t[30]=A>>>16&255,t[31]=A>>>24&255}function b(t,e,n,r){v(t,e,n,r)}function E(t,e,n,r){w(t,e,n,r)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function I(t,e,n,r,o,i,s){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];while(o>=64){for(b(l,u,s,_),c=0;c<64;c++)t[e+c]=n[r+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;o-=64,e+=64,r+=64}if(o>0)for(b(l,u,s,_),c=0;c<o;c++)t[e+c]=n[r+c]^l[c];return 0}function O(t,e,n,r,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];while(n>=64){for(b(c,a,o,_),s=0;s<64;s++)t[e+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,e+=64}if(n>0)for(b(c,a,o,_),s=0;s<n;s++)t[e+s]=c[s];return 0}function S(t,e,n,r,o){var i=new Uint8Array(32);E(i,r,o,_);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return O(t,e,n,s,i)}function R(t,e,n,r,o,i,s){var a=new Uint8Array(32);E(a,i,s,_);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return I(t,e,n,r,o,c,a)}var C=function(t){var e,n,r,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function T(t,e,n,r,o,i){var s=new C(i);return s.update(n,r,o),s.finish(t,e),0}function x(t,e,n,r,o,i){var s=new Uint8Array(16);return T(s,0,n,r,o,i),y(t,e,s,0)}function A(t,e,n,r,o){var i;if(n<32)return-1;for(R(t,0,e,0,n,r,o),T(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0;return 0}function P(t,e,n,r,o){var i,s=new Uint8Array(32);if(n<32)return-1;if(S(s,0,32,r,o),0!==x(e,16,e,32,n-32,s))return-1;for(R(t,0,e,0,n,r,o),i=0;i<32;i++)t[i]=0;return 0}function U(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function k(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function j(t,e,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(t[i]^e[i]),t[i]^=r,e[i]^=r}function B(t,n){var r,o,i,s=e(),a=e();for(r=0;r<16;r++)a[r]=n[r];for(k(a),k(a),k(a),o=0;o<2;o++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,j(a,s,1-i)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function N(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return B(n,t),B(r,e),m(n,0,r,0)}function L(t){var e=new Uint8Array(32);return B(e,t),1&e[0]}function M(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function $(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function D(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function J(t,e,n){var r,o,i=0,s=0,a=0,c=0,u=0,l=0,h=0,f=0,d=0,p=0,g=0,y=0,m=0,v=0,w=0,b=0,E=0,_=0,I=0,O=0,S=0,R=0,C=0,T=0,x=0,A=0,P=0,U=0,k=0,j=0,B=0,N=n[0],L=n[1],M=n[2],$=n[3],D=n[4],J=n[5],K=n[6],z=n[7],W=n[8],q=n[9],F=n[10],H=n[11],Z=n[12],Y=n[13],V=n[14],G=n[15];r=e[0],i+=r*N,s+=r*L,a+=r*M,c+=r*$,u+=r*D,l+=r*J,h+=r*K,f+=r*z,d+=r*W,p+=r*q,g+=r*F,y+=r*H,m+=r*Z,v+=r*Y,w+=r*V,b+=r*G,r=e[1],s+=r*N,a+=r*L,c+=r*M,u+=r*$,l+=r*D,h+=r*J,f+=r*K,d+=r*z,p+=r*W,g+=r*q,y+=r*F,m+=r*H,v+=r*Z,w+=r*Y,b+=r*V,E+=r*G,r=e[2],a+=r*N,c+=r*L,u+=r*M,l+=r*$,h+=r*D,f+=r*J,d+=r*K,p+=r*z,g+=r*W,y+=r*q,m+=r*F,v+=r*H,w+=r*Z,b+=r*Y,E+=r*V,_+=r*G,r=e[3],c+=r*N,u+=r*L,l+=r*M,h+=r*$,f+=r*D,d+=r*J,p+=r*K,g+=r*z,y+=r*W,m+=r*q,v+=r*F,w+=r*H,b+=r*Z,E+=r*Y,_+=r*V,I+=r*G,r=e[4],u+=r*N,l+=r*L,h+=r*M,f+=r*$,d+=r*D,p+=r*J,g+=r*K,y+=r*z,m+=r*W,v+=r*q,w+=r*F,b+=r*H,E+=r*Z,_+=r*Y,I+=r*V,O+=r*G,r=e[5],l+=r*N,h+=r*L,f+=r*M,d+=r*$,p+=r*D,g+=r*J,y+=r*K,m+=r*z,v+=r*W,w+=r*q,b+=r*F,E+=r*H,_+=r*Z,I+=r*Y,O+=r*V,S+=r*G,r=e[6],h+=r*N,f+=r*L,d+=r*M,p+=r*$,g+=r*D,y+=r*J,m+=r*K,v+=r*z,w+=r*W,b+=r*q,E+=r*F,_+=r*H,I+=r*Z,O+=r*Y,S+=r*V,R+=r*G,r=e[7],f+=r*N,d+=r*L,p+=r*M,g+=r*$,y+=r*D,m+=r*J,v+=r*K,w+=r*z,b+=r*W,E+=r*q,_+=r*F,I+=r*H,O+=r*Z,S+=r*Y,R+=r*V,C+=r*G,r=e[8],d+=r*N,p+=r*L,g+=r*M,y+=r*$,m+=r*D,v+=r*J,w+=r*K,b+=r*z,E+=r*W,_+=r*q,I+=r*F,O+=r*H,S+=r*Z,R+=r*Y,C+=r*V,T+=r*G,r=e[9],p+=r*N,g+=r*L,y+=r*M,m+=r*$,v+=r*D,w+=r*J,b+=r*K,E+=r*z,_+=r*W,I+=r*q,O+=r*F,S+=r*H,R+=r*Z,C+=r*Y,T+=r*V,x+=r*G,r=e[10],g+=r*N,y+=r*L,m+=r*M,v+=r*$,w+=r*D,b+=r*J,E+=r*K,_+=r*z,I+=r*W,O+=r*q,S+=r*F,R+=r*H,C+=r*Z,T+=r*Y,x+=r*V,A+=r*G,r=e[11],y+=r*N,m+=r*L,v+=r*M,w+=r*$,b+=r*D,E+=r*J,_+=r*K,I+=r*z,O+=r*W,S+=r*q,R+=r*F,C+=r*H,T+=r*Z,x+=r*Y,A+=r*V,P+=r*G,r=e[12],m+=r*N,v+=r*L,w+=r*M,b+=r*$,E+=r*D,_+=r*J,I+=r*K,O+=r*z,S+=r*W,R+=r*q,C+=r*F,T+=r*H,x+=r*Z,A+=r*Y,P+=r*V,U+=r*G,r=e[13],v+=r*N,w+=r*L,b+=r*M,E+=r*$,_+=r*D,I+=r*J,O+=r*K,S+=r*z,R+=r*W,C+=r*q,T+=r*F,x+=r*H,A+=r*Z,P+=r*Y,U+=r*V,k+=r*G,r=e[14],w+=r*N,b+=r*L,E+=r*M,_+=r*$,I+=r*D,O+=r*J,S+=r*K,R+=r*z,C+=r*W,T+=r*q,x+=r*F,A+=r*H,P+=r*Z,U+=r*Y,k+=r*V,j+=r*G,r=e[15],b+=r*N,E+=r*L,_+=r*M,I+=r*$,O+=r*D,S+=r*J,R+=r*K,C+=r*z,T+=r*W,x+=r*q,A+=r*F,P+=r*H,U+=r*Z,k+=r*Y,j+=r*V,B+=r*G,i+=38*E,s+=38*_,a+=38*I,c+=38*O,u+=38*S,l+=38*R,h+=38*C,f+=38*T,d+=38*x,p+=38*A,g+=38*P,y+=38*U,m+=38*k,v+=38*j,w+=38*B,o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=w+o+65535,o=Math.floor(r/65536),w=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,i+=o-1+37*(o-1),o=1,r=i+o+65535,o=Math.floor(r/65536),i=r-65536*o,r=s+o+65535,o=Math.floor(r/65536),s=r-65536*o,r=a+o+65535,o=Math.floor(r/65536),a=r-65536*o,r=c+o+65535,o=Math.floor(r/65536),c=r-65536*o,r=u+o+65535,o=Math.floor(r/65536),u=r-65536*o,r=l+o+65535,o=Math.floor(r/65536),l=r-65536*o,r=h+o+65535,o=Math.floor(r/65536),h=r-65536*o,r=f+o+65535,o=Math.floor(r/65536),f=r-65536*o,r=d+o+65535,o=Math.floor(r/65536),d=r-65536*o,r=p+o+65535,o=Math.floor(r/65536),p=r-65536*o,r=g+o+65535,o=Math.floor(r/65536),g=r-65536*o,r=y+o+65535,o=Math.floor(r/65536),y=r-65536*o,r=m+o+65535,o=Math.floor(r/65536),m=r-65536*o,r=v+o+65535,o=Math.floor(r/65536),v=r-65536*o,r=w+o+65535,o=Math.floor(r/65536),w=r-65536*o,r=b+o+65535,o=Math.floor(r/65536),b=r-65536*o,i+=o-1+37*(o-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=f,t[8]=d,t[9]=p,t[10]=g,t[11]=y,t[12]=m,t[13]=v,t[14]=w,t[15]=b}function K(t,e){J(t,e,e)}function z(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=253;r>=0;r--)K(o,o),2!==r&&4!==r&&J(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function W(t,n){var r,o=e();for(r=0;r<16;r++)o[r]=n[r];for(r=250;r>=0;r--)K(o,o),1!==r&&J(o,o,n);for(r=0;r<16;r++)t[r]=o[r]}function q(t,n,r){var o,i,s=new Uint8Array(32),a=new Float64Array(80),u=e(),l=e(),h=e(),f=e(),d=e(),p=e();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,M(a,r),i=0;i<16;i++)l[i]=a[i],f[i]=u[i]=h[i]=0;for(u[0]=f[0]=1,i=254;i>=0;--i)o=s[i>>>3]>>>(7&i)&1,j(u,l,o),j(h,f,o),$(d,u,h),D(u,u,h),$(h,l,f),D(l,l,f),K(f,d),K(p,u),J(u,h,u),J(h,l,d),$(d,u,h),D(u,u,h),K(l,u),D(h,f,p),J(u,h,c),$(u,u,f),J(h,h,u),J(u,f,p),J(f,l,a),K(l,d),j(u,l,o),j(h,f,o);for(i=0;i<16;i++)a[i+16]=u[i],a[i+32]=h[i],a[i+48]=l[i],a[i+64]=f[i];var g=a.subarray(32),y=a.subarray(16);return z(g,g),J(y,y,g),B(t,y),0}function F(t,e){return q(t,e,i)}function H(t,e){return r(e,32),F(t,e)}function Z(t,e,n){var r=new Uint8Array(32);return q(r,n,e),E(t,o,r,_)}C.prototype.blocks=function(t,e,n){var r,o,i,s,a,c,u,l,h,f,d,p,g,y,m,v,w,b,E,_=this.fin?0:2048,I=this.h[0],O=this.h[1],S=this.h[2],R=this.h[3],C=this.h[4],T=this.h[5],x=this.h[6],A=this.h[7],P=this.h[8],U=this.h[9],k=this.r[0],j=this.r[1],B=this.r[2],N=this.r[3],L=this.r[4],M=this.r[5],$=this.r[6],D=this.r[7],J=this.r[8],K=this.r[9];while(n>=16)r=255&t[e+0]|(255&t[e+1])<<8,I+=8191&r,o=255&t[e+2]|(255&t[e+3])<<8,O+=8191&(r>>>13|o<<3),i=255&t[e+4]|(255&t[e+5])<<8,S+=8191&(o>>>10|i<<6),s=255&t[e+6]|(255&t[e+7])<<8,R+=8191&(i>>>7|s<<9),a=255&t[e+8]|(255&t[e+9])<<8,C+=8191&(s>>>4|a<<12),T+=a>>>1&8191,c=255&t[e+10]|(255&t[e+11])<<8,x+=8191&(a>>>14|c<<2),u=255&t[e+12]|(255&t[e+13])<<8,A+=8191&(c>>>11|u<<5),l=255&t[e+14]|(255&t[e+15])<<8,P+=8191&(u>>>8|l<<8),U+=l>>>5|_,h=0,f=h,f+=I*k,f+=O*(5*K),f+=S*(5*J),f+=R*(5*D),f+=C*(5*$),h=f>>>13,f&=8191,f+=T*(5*M),f+=x*(5*L),f+=A*(5*N),f+=P*(5*B),f+=U*(5*j),h+=f>>>13,f&=8191,d=h,d+=I*j,d+=O*k,d+=S*(5*K),d+=R*(5*J),d+=C*(5*D),h=d>>>13,d&=8191,d+=T*(5*$),d+=x*(5*M),d+=A*(5*L),d+=P*(5*N),d+=U*(5*B),h+=d>>>13,d&=8191,p=h,p+=I*B,p+=O*j,p+=S*k,p+=R*(5*K),p+=C*(5*J),h=p>>>13,p&=8191,p+=T*(5*D),p+=x*(5*$),p+=A*(5*M),p+=P*(5*L),p+=U*(5*N),h+=p>>>13,p&=8191,g=h,g+=I*N,g+=O*B,g+=S*j,g+=R*k,g+=C*(5*K),h=g>>>13,g&=8191,g+=T*(5*J),g+=x*(5*D),g+=A*(5*$),g+=P*(5*M),g+=U*(5*L),h+=g>>>13,g&=8191,y=h,y+=I*L,y+=O*N,y+=S*B,y+=R*j,y+=C*k,h=y>>>13,y&=8191,y+=T*(5*K),y+=x*(5*J),y+=A*(5*D),y+=P*(5*$),y+=U*(5*M),h+=y>>>13,y&=8191,m=h,m+=I*M,m+=O*L,m+=S*N,m+=R*B,m+=C*j,h=m>>>13,m&=8191,m+=T*k,m+=x*(5*K),m+=A*(5*J),m+=P*(5*D),m+=U*(5*$),h+=m>>>13,m&=8191,v=h,v+=I*$,v+=O*M,v+=S*L,v+=R*N,v+=C*B,h=v>>>13,v&=8191,v+=T*j,v+=x*k,v+=A*(5*K),v+=P*(5*J),v+=U*(5*D),h+=v>>>13,v&=8191,w=h,w+=I*D,w+=O*$,w+=S*M,w+=R*L,w+=C*N,h=w>>>13,w&=8191,w+=T*B,w+=x*j,w+=A*k,w+=P*(5*K),w+=U*(5*J),h+=w>>>13,w&=8191,b=h,b+=I*J,b+=O*D,b+=S*$,b+=R*M,b+=C*L,h=b>>>13,b&=8191,b+=T*N,b+=x*B,b+=A*j,b+=P*k,b+=U*(5*K),h+=b>>>13,b&=8191,E=h,E+=I*K,E+=O*J,E+=S*D,E+=R*$,E+=C*M,h=E>>>13,E&=8191,E+=T*L,E+=x*N,E+=A*B,E+=P*j,E+=U*k,h+=E>>>13,E&=8191,h=(h<<2)+h|0,h=h+f|0,f=8191&h,h>>>=13,d+=h,I=f,O=d,S=p,R=g,C=y,T=m,x=v,A=w,P=b,U=E,e+=16,n-=16;this.h[0]=I,this.h[1]=O,this.h[2]=S,this.h[3]=R,this.h[4]=C,this.h[5]=T,this.h[6]=x,this.h[7]=A,this.h[8]=P,this.h[9]=U},C.prototype.finish=function(t,e){var n,r,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},C.prototype.update=function(t,e,n){var r,o;if(this.leftover){for(o=16-this.leftover,o>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(t,e,o),e+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var Y=A,V=P;function G(t,e,n,r,o,i){var s=new Uint8Array(32);return Z(s,o,i),Y(t,e,n,r,s)}function X(t,e,n,r,o,i){var s=new Uint8Array(32);return Z(s,o,i),V(t,e,n,r,s)}var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tt(t,e,n,r){var o,i,s,a,c,u,l,h,f,d,p,g,y,m,v,w,b,E,_,I,O,S,R,C,T,x,A=new Int32Array(16),P=new Int32Array(16),U=t[0],k=t[1],j=t[2],B=t[3],N=t[4],L=t[5],M=t[6],$=t[7],D=e[0],J=e[1],K=e[2],z=e[3],W=e[4],q=e[5],F=e[6],H=e[7],Z=0;while(r>=128){for(_=0;_<16;_++)I=8*_+Z,A[_]=n[I+0]<<24|n[I+1]<<16|n[I+2]<<8|n[I+3],P[_]=n[I+4]<<24|n[I+5]<<16|n[I+6]<<8|n[I+7];for(_=0;_<80;_++)if(o=U,i=k,s=j,a=B,c=N,u=L,l=M,h=$,f=D,d=J,p=K,g=z,y=W,m=q,v=F,w=H,O=$,S=H,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=(N>>>14|W<<18)^(N>>>18|W<<14)^(W>>>9|N<<23),S=(W>>>14|N<<18)^(W>>>18|N<<14)^(N>>>9|W<<23),R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,O=N&L^~N&M,S=W&q^~W&F,R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,O=Q[2*_],S=Q[2*_+1],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,O=A[_%16],S=P[_%16],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,b=65535&T|x<<16,E=65535&R|C<<16,O=b,S=E,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=(U>>>28|D<<4)^(D>>>2|U<<30)^(D>>>7|U<<25),S=(D>>>28|U<<4)^(U>>>2|D<<30)^(U>>>7|D<<25),R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,O=U&k^U&j^k&j,S=D&J^D&K^J&K,R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,h=65535&T|x<<16,w=65535&R|C<<16,O=a,S=g,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=b,S=E,R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,a=65535&T|x<<16,g=65535&R|C<<16,k=o,j=i,B=s,N=a,L=c,M=u,$=l,U=h,J=f,K=d,z=p,W=g,q=y,F=m,H=v,D=w,_%16===15)for(I=0;I<16;I++)O=A[I],S=P[I],R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=A[(I+9)%16],S=P[(I+9)%16],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,b=A[(I+1)%16],E=P[(I+1)%16],O=(b>>>1|E<<31)^(b>>>8|E<<24)^b>>>7,S=(E>>>1|b<<31)^(E>>>8|b<<24)^(E>>>7|b<<25),R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,b=A[(I+14)%16],E=P[(I+14)%16],O=(b>>>19|E<<13)^(E>>>29|b<<3)^b>>>6,S=(E>>>19|b<<13)^(b>>>29|E<<3)^(E>>>6|b<<26),R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,A[I]=65535&T|x<<16,P[I]=65535&R|C<<16;O=U,S=D,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[0],S=e[0],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[0]=U=65535&T|x<<16,e[0]=D=65535&R|C<<16,O=k,S=J,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[1],S=e[1],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[1]=k=65535&T|x<<16,e[1]=J=65535&R|C<<16,O=j,S=K,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[2],S=e[2],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[2]=j=65535&T|x<<16,e[2]=K=65535&R|C<<16,O=B,S=z,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[3],S=e[3],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[3]=B=65535&T|x<<16,e[3]=z=65535&R|C<<16,O=N,S=W,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[4],S=e[4],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[4]=N=65535&T|x<<16,e[4]=W=65535&R|C<<16,O=L,S=q,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[5],S=e[5],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[5]=L=65535&T|x<<16,e[5]=q=65535&R|C<<16,O=M,S=F,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[6],S=e[6],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[6]=M=65535&T|x<<16,e[6]=F=65535&R|C<<16,O=$,S=H,R=65535&S,C=S>>>16,T=65535&O,x=O>>>16,O=t[7],S=e[7],R+=65535&S,C+=S>>>16,T+=65535&O,x+=O>>>16,C+=R>>>16,T+=C>>>16,x+=T>>>16,t[7]=$=65535&T|x<<16,e[7]=H=65535&R|C<<16,Z+=128,r-=128}return r}function et(t,e,n){var r,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,tt(o,i,e,n),n%=128,r=0;r<n;r++)s[r]=e[a-n+r];for(s[n]=128,n=256-128*(n<112?1:0),s[n-9]=0,p(s,n-8,a/536870912|0,a<<3),tt(o,i,s,n),r=0;r<8;r++)p(t,8*r,o[r],i[r]);return 0}function nt(t,n){var r=e(),o=e(),i=e(),s=e(),a=e(),c=e(),u=e(),h=e(),f=e();D(r,t[1],t[0]),D(f,n[1],n[0]),J(r,r,f),$(o,t[0],t[1]),$(f,n[0],n[1]),J(o,o,f),J(i,t[3],n[3]),J(i,i,l),J(s,t[2],n[2]),$(s,s,s),D(a,o,r),D(c,s,i),$(u,s,i),$(h,o,r),J(t[0],a,c),J(t[1],h,u),J(t[2],u,c),J(t[3],a,h)}function rt(t,e,n){var r;for(r=0;r<4;r++)j(t[r],e[r],n)}function ot(t,n){var r=e(),o=e(),i=e();z(i,n[2]),J(r,n[0],i),J(o,n[1],i),B(t,o),t[31]^=L(r)<<7}function it(t,e,n){var r,o;for(U(t[0],s),U(t[1],a),U(t[2],a),U(t[3],s),o=255;o>=0;--o)r=n[o/8|0]>>(7&o)&1,rt(t,e,r),nt(e,t),nt(t,t),rt(t,e,r)}function st(t,n){var r=[e(),e(),e(),e()];U(r[0],h),U(r[1],f),U(r[2],a),J(r[3],h,f),it(t,r,n)}function at(t,n,o){var i,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(o||r(n,32),et(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,st(a,s),ot(t,a),i=0;i<32;i++)n[i+32]=t[i];return 0}var ct=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ut(t,e){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)e[o]+=n-16*e[r]*ct[o-(r-32)],n=Math.floor((e[o]+128)/256),e[o]-=256*n;e[o]+=n,e[r]=0}for(n=0,o=0;o<32;o++)e[o]+=n-(e[31]>>4)*ct[o],n=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=n*ct[o];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function lt(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;ut(t,n)}function ht(t,n,r,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),h=[e(),e(),e(),e()];et(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var f=r+64;for(i=0;i<r;i++)t[64+i]=n[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(et(u,t.subarray(32),r+32),lt(u),st(h,u),ot(t,h),i=32;i<64;i++)t[i]=o[i];for(et(c,t,r+64),lt(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=u[i];for(i=0;i<32;i++)for(s=0;s<32;s++)l[i+s]+=c[i]*a[s];return ut(t.subarray(32),l),f}function ft(t,n){var r=e(),o=e(),i=e(),c=e(),l=e(),h=e(),f=e();return U(t[2],a),M(t[1],n),K(i,t[1]),J(c,i,u),D(i,i,t[2]),$(c,t[2],c),K(l,c),K(h,l),J(f,h,l),J(r,f,i),J(r,r,c),W(r,r),J(r,r,i),J(r,r,c),J(r,r,c),J(t[0],r,c),K(o,t[0]),J(o,o,c),N(o,i)&&J(t[0],t[0],d),K(o,t[0]),J(o,o,c),N(o,i)?-1:(L(t[0])===n[31]>>7&&D(t[0],s,t[0]),J(t[3],t[0],t[1]),0)}function dt(t,n,r,o){var i,s=new Uint8Array(32),a=new Uint8Array(64),c=[e(),e(),e(),e()],u=[e(),e(),e(),e()];if(r<64)return-1;if(ft(u,o))return-1;for(i=0;i<r;i++)t[i]=n[i];for(i=0;i<32;i++)t[i+32]=o[i];if(et(a,t,r),lt(a),it(c,u,a),st(u,n.subarray(32)),nt(c,u),ot(s,c),r-=64,m(n,0,s,0)){for(i=0;i<r;i++)t[i]=0;return-1}for(i=0;i<r;i++)t[i]=n[i+64];return r}var pt=32,gt=24,yt=32,mt=16,vt=32,wt=32,bt=32,Et=32,_t=32,It=gt,Ot=yt,St=mt,Rt=64,Ct=32,Tt=64,xt=32,At=64;function Pt(t,e){if(t.length!==pt)throw new Error("bad key size");if(e.length!==gt)throw new Error("bad nonce size")}function Ut(t,e){if(t.length!==bt)throw new Error("bad public key size");if(e.length!==Et)throw new Error("bad secret key size")}function kt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function jt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:E,crypto_stream_xor:R,crypto_stream:S,crypto_stream_salsa20_xor:I,crypto_stream_salsa20:O,crypto_onetimeauth:T,crypto_onetimeauth_verify:x,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:A,crypto_secretbox_open:P,crypto_scalarmult:q,crypto_scalarmult_base:F,crypto_box_beforenm:Z,crypto_box_afternm:Y,crypto_box:G,crypto_box_open:X,crypto_box_keypair:H,crypto_hash:et,crypto_sign:ht,crypto_sign_keypair:at,crypto_sign_open:dt,crypto_secretbox_KEYBYTES:pt,crypto_secretbox_NONCEBYTES:gt,crypto_secretbox_ZEROBYTES:yt,crypto_secretbox_BOXZEROBYTES:mt,crypto_scalarmult_BYTES:vt,crypto_scalarmult_SCALARBYTES:wt,crypto_box_PUBLICKEYBYTES:bt,crypto_box_SECRETKEYBYTES:Et,crypto_box_BEFORENMBYTES:_t,crypto_box_NONCEBYTES:It,crypto_box_ZEROBYTES:Ot,crypto_box_BOXZEROBYTES:St,crypto_sign_BYTES:Rt,crypto_sign_PUBLICKEYBYTES:Ct,crypto_sign_SECRETKEYBYTES:Tt,crypto_sign_SEEDBYTES:xt,crypto_hash_BYTES:At,gf:e,D:u,L:ct,pack25519:B,unpack25519:M,M:J,A:$,S:K,Z:D,pow2523:W,add:nt,set25519:U,modL:ut,scalarmult:it,scalarbase:st},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){kt(t,e,n),Pt(n,e);for(var r=new Uint8Array(yt+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+yt]=t[i];return A(o,r,r.length,e,n),o.subarray(mt)},t.secretbox.open=function(t,e,n){kt(t,e,n),Pt(n,e);for(var r=new Uint8Array(mt+t.length),o=new Uint8Array(r.length),i=0;i<t.length;i++)r[i+mt]=t[i];return r.length<32||0!==P(o,r,r.length,e,n)?null:o.subarray(yt)},t.secretbox.keyLength=pt,t.secretbox.nonceLength=gt,t.secretbox.overheadLength=mt,t.scalarMult=function(t,e){if(kt(t,e),t.length!==wt)throw new Error("bad n size");if(e.length!==vt)throw new Error("bad p size");var n=new Uint8Array(vt);return q(n,t,e),n},t.scalarMult.base=function(t){if(kt(t),t.length!==wt)throw new Error("bad n size");var e=new Uint8Array(vt);return F(e,t),e},t.scalarMult.scalarLength=wt,t.scalarMult.groupElementLength=vt,t.box=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox(e,n,i)},t.box.before=function(t,e){kt(t,e),Ut(t,e);var n=new Uint8Array(_t);return Z(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,o){var i=t.box.before(r,o);return t.secretbox.open(e,n,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(bt),e=new Uint8Array(Et);return H(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(kt(t),t.length!==Et)throw new Error("bad secret key size");var e=new Uint8Array(bt);return F(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=bt,t.box.secretKeyLength=Et,t.box.sharedKeyLength=_t,t.box.nonceLength=It,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(kt(t,e),e.length!==Tt)throw new Error("bad secret key size");var n=new Uint8Array(Rt+t.length);return ht(n,t,t.length,e),n},t.sign.open=function(t,e){if(kt(t,e),e.length!==Ct)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=dt(n,t,t.length,e);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached=function(e,n){for(var r=t.sign(e,n),o=new Uint8Array(Rt),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached.verify=function(t,e,n){if(kt(t,e,n),e.length!==Rt)throw new Error("bad signature size");if(n.length!==Ct)throw new Error("bad public key size");var r,o=new Uint8Array(Rt+t.length),i=new Uint8Array(Rt+t.length);for(r=0;r<Rt;r++)o[r]=e[r];for(r=0;r<t.length;r++)o[r+Rt]=t[r];return dt(i,o,o.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(Ct),e=new Uint8Array(Tt);return at(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(kt(t),t.length!==Tt)throw new Error("bad secret key size");for(var e=new Uint8Array(Ct),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(kt(t),t.length!==xt)throw new Error("bad seed size");for(var e=new Uint8Array(Ct),n=new Uint8Array(Tt),r=0;r<32;r++)n[r]=t[r];return at(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=Ct,t.sign.secretKeyLength=Tt,t.sign.seedLength=xt,t.sign.signatureLength=Rt,t.hash=function(t){kt(t);var e=new Uint8Array(At);return et(e,t,t.length),e},t.hash.hashLength=At,t.verify=function(t,e){return kt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===g(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){var r=65536;t.setPRNG((function(t,n){var o,i=new Uint8Array(n);for(o=0;o<n;o+=r)e.getRandomValues(i.subarray(o,o+Math.min(n-o,r)));for(o=0;o<n;o++)t[o]=i[o];jt(i)}))}else e=n(55024),e&&e.randomBytes&&t.setPRNG((function(t,n){var r,o=e.randomBytes(n);for(r=0;r<n;r++)t[r]=o[r];jt(o)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},37459:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});n(70560);function r(t,e){return e=e||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],s=[],a={},c=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return s},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){i.push(e=e.toLowerCase()),s.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),n(c())},o.onerror=r,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(u,e.headers[u]);o.send(e.body||null)}))}},27313:function(t,e,n){"use strict";n(70560);var r=n(57690),o=n(49076),i=n.n(o),s=n(26547),a=n(8390),c=n(30754),u=n(93888),l=n(22435),h=n(97929),f=(0,s.d)("button"),d=f[0],p=f[1];function g(t,e,n,r){var o,s=e.tag,f=e.icon,d=e.type,g=e.color,y=e.plain,m=e.disabled,v=e.loading,w=e.hairline,b=e.loadingText,E=e.iconPosition,_={};function I(t){e.loading&&t.preventDefault(),v||m||((0,a.j8)(r,"click",t),(0,u.fz)(r))}function O(t){(0,a.j8)(r,"touchstart",t)}g&&(_.color=y?g:"white",y||(_.background=g),-1!==g.indexOf("gradient")?_.border=0:_.borderColor=g);var S=[p([d,e.size,{plain:y,loading:v,disabled:m,hairline:w,block:e.block,round:e.round,square:e.square}]),(o={},o[c._K]=w,o)];function R(){return v?n.loading?n.loading():t(h.Z,{class:p("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}}):n.icon?t("div",{class:p("icon")},[n.icon()]):f?t(l.Z,{attrs:{name:f,classPrefix:e.iconPrefix},class:p("icon")}):void 0}function C(){var r,o=[];return"left"===E&&o.push(R()),r=v?b:n.default?n.default():e.text,r&&o.push(t("span",{class:p("text")},[r])),"right"===E&&o.push(R()),o}return t(s,i()([{style:_,class:S,attrs:{type:e.nativeType,disabled:m},on:{click:I,touchstart:O}},(0,a.ED)(r)]),[t("div",{class:p("content")},[C()])])}g.props=(0,r.Z)({},u.g2,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),e.Z=d(g)},29434:function(t,e,n){"use strict";n.d(e,{Z:function(){return U}});var r,o=n(57690),i=n(32083),s=n(49076),a=n.n(s),c=n(26547),u=n(56153),l=n(91548),h=n(30754),f=n(76860),d=n(27313),p=n(14708),g=(0,c.d)("goods-action"),y=g[0],m=g[1],v=y({mixins:[(0,p.G)("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:m({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),w=n(93888),b=(0,c.d)("goods-action-button"),E=b[0],_=b[1],I=E({mixins:[(0,p.j)("vanGoodsAction")],props:(0,o.Z)({},w.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),(0,w.BC)(this.$router,this)}},render:function(){var t=arguments[0];return t(d.Z,{class:_([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),O=(0,c.d)("dialog"),S=O[0],R=O[1],C=O[2],T=S({mixins:[(0,f.e)()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){var t=this;this.$emit("opened"),this.$nextTick((function(){var e;null==(e=t.$refs.dialog)||e.focus()}))},onClosed:function(){this.$emit("closed")},onKeydown:function(t){var e=this;if("Escape"===t.key||"Enter"===t.key){if(t.target!==this.$refs.dialog)return;var n={Enter:this.showConfirmButton?function(){return e.handleAction("confirm")}:u.ZT,Escape:this.showCancelButton?function(){return e.handleAction("cancel")}:u.ZT};n[t.key](),this.$emit("keydown",t)}},genRoundButtons:function(){var t=this,e=this.$createElement;return e(v,{class:R("footer")},[this.showCancelButton&&e(I,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||C("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:R("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&e(I,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||C("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:R("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,e=this,n=this.$createElement,r=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[h.k7,R("footer")]},[this.showCancelButton&&n(d.Z,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||C("cancel"),nativeType:"button"},class:R("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(d.Z,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||C("confirm"),nativeType:"button"},class:[R("confirm"),(t={},t[h.a8]=r,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var n=this.$createElement;if(e)return n("div",{class:R("content")},[e]);var r=this.message,o=this.messageAlign;if(r){var i,s,c={class:R("message",(i={"has-title":t},i[o]=o,i)),domProps:(s={},s[this.allowHtml?"innerHTML":"textContent"]=r,s)};return n("div",{class:R("content",{isolated:!t})},[n("div",a()([{},c]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,n=this.slots(),r=this.slots("title")||this.title,o=r&&t("div",{class:R("header",{isolated:!e&&!n})},[r]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e,tabIndex:0},class:[R([this.theme]),this.className],style:{width:(0,l.N)(this.width)},ref:"dialog",on:{keydown:this.onKeydown}},[o,this.genContent(r,n),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}});function x(t){return document.body.contains(t)}function A(){r&&r.$destroy(),r=new(i["default"].extend(T))({el:document.createElement("div"),propsData:{lazyRender:!1}}),r.$on("input",(function(t){r.value=t}))}function P(t){return u.sk?Promise.resolve():new Promise((function(e,n){r&&x(r.$el)||A(),(0,o.Z)(r,P.currentOptions,t,{resolve:e,reject:n})}))}P.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){r["confirm"===t?"resolve":"reject"](t)}},P.alert=P,P.confirm=function(t){return P((0,o.Z)({showCancelButton:!0},t))},P.close=function(){r&&(r.value=!1)},P.setDefaultOptions=function(t){(0,o.Z)(P.currentOptions,t)},P.resetDefaultOptions=function(){P.currentOptions=(0,o.Z)({},P.defaultOptions)},P.resetDefaultOptions(),P.install=function(){i["default"].use(T)},P.Component=T,i["default"].prototype.$dialog=P;var U=P},83429:function(t,e,n){"use strict";n(31958),n(76196),n(13332),n(56742),n(22666),n(62939),n(61452)},14708:function(t,e,n){"use strict";n.d(e,{j:function(){return i},G:function(){return s}});n(70560);function r(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.componentInstance&&n(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&n(t.children)}))}return n(t),e}function o(t,e){var n=e.$vnode.componentOptions;if(n&&n.children){var o=r(n.children);t.sort((function(t,e){return o.indexOf(t.$vnode)-o.indexOf(e.$vnode)}))}}function i(t,e){var n,r;void 0===e&&(e={});var i=e.indexKey||"index";return{inject:(n={},n[t]={default:null},n),computed:(r={parent:function(){return this.disableBindRelation?null:this[t]}},r[i]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},r),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);o(t,this.parent),this.parent.children=t}}}}}function s(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}},30754:function(t,e,n){"use strict";n.d(e,{_K:function(){return a},a8:function(){return i},k7:function(){return o},xe:function(){return s}});var r="van-hairline",o=r+"--top",i=r+"--left",s=r+"--bottom",a=r+"--surround"},93888:function(t,e,n){"use strict";function r(t){return"NavigationDuplicated"===t.name||t.message&&-1!==t.message.indexOf("redundant navigation")}function o(t,e){var n=e.to,o=e.url,i=e.replace;if(n&&t){var s=t[i?"replace":"push"](n);s&&s.catch&&s.catch((function(t){if(t&&!r(t))throw t}))}else o&&(i?location.replace(o):location.href=o)}function i(t){o(t.parent&&t.parent.$router,t.props)}n.d(e,{BC:function(){return o},fz:function(){return i},g2:function(){return s}});var s={url:String,replace:Boolean,to:[String,Object]}},61452:function(){},47344:function(t,e,n){"use strict";n.d(e,{MX:function(){return u}});var r,o=function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},i=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};let s;const a=new Set,c={};function u(){if(s)return s;if(s=Object.freeze({register:l,get:h,on:f}),"undefined"===typeof window)return s;const t=Object.freeze({register:l});try{window.addEventListener("wallet-standard:register-wallet",(({detail:e})=>e(t)))}catch(e){}try{window.dispatchEvent(new p(t))}catch(e){}return s}function l(...t){return t=t.filter((t=>!a.has(t))),t.length?(t.forEach((t=>a.add(t))),c["register"]?.forEach((e=>d((()=>e(...t))))),function(){t.forEach((t=>a.delete(t))),c["unregister"]?.forEach((e=>d((()=>e(...t)))))}):()=>{}}function h(){return[...a]}function f(t,e){return c[t]?.push(e)||(c[t]=[e]),function(){c[t]=c[t]?.filter((t=>e!==t))}}function d(t){try{t()}catch(e){}}class p extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),o(this,r,t,"f")}get detail(){return i(this,r,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}r=new WeakMap},73971:function(t,e,n){"use strict";n.d(e,{E:function(){return o}});n(24224),n(61121),n(37133);var r=n(62205);function o(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,r.P)(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}},49290:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(73971),o=n(62205);function i(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const n=(0,r.E)(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return(0,o.P)(n)}},75022:function(t,e,n){"use strict";n.d(e,{m:function(){return i}});var r=n(49311),o=n(62205);function i(t,e="utf8"){const n=r.Z[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${t}`):(0,o.P)(globalThis.Buffer.from(t,"utf-8"))}},46343:function(t,e,n){"use strict";n.d(e,{zo:function(){return r.z},mL:function(){return o.m},BB:function(){return i.B}});var r=n(49290),o=n(75022),i=n(78574);n(73971),n(62205)},78574:function(t,e,n){"use strict";n.d(e,{B:function(){return o}});var r=n(49311);function o(t,e="utf8"){const n=r.Z[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}},62205:function(t,e,n){"use strict";n.d(e,{P:function(){return r}});n(24224),n(61121),n(37133);function r(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}},49311:function(t,e,n){"use strict";var r=n(95050),o=n(73971);function i(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const s=i("utf8","u",(t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)}),(t=>{const e=new TextEncoder;return e.encode(t.substring(1))})),a=i("ascii","a",(t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}),(t=>{t=t.substring(1);const e=(0,o.E)(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e})),c={utf8:s,"utf-8":s,hex:r.gh.base16,latin1:a,ascii:a,binary:a,...r.gh};e.Z=c}}]);